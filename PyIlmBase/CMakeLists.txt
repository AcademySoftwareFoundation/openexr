CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

PROJECT ( PyIlmBase )

SET (Python_ADDITIONAL_VERSIONS "2.7")
FIND_PACKAGE( PythonLibs )

INCLUDE (FindPkgConfig)
PKG_CHECK_MODULES ( ILMBASE IlmBase )

IF ( NOT WIN32)
  ADD_DEFINITIONS ( -pthread )
ENDIF ()

INCLUDE_DIRECTORIES ( PyIex )

SET (LIB_TYPE STATIC)
IF (BUILD_SHARED_LIBS)
  # User wants to build Dynamic Libraries, so change the LIB_TYPE variable to CMake keyword 'SHARED'
  SET (LIB_TYPE SHARED)
  IF (WIN32)
    ADD_DEFINITIONS(-DOPENEXR_DLL)
  ENDIF ()
ENDIF (BUILD_SHARED_LIBS)

ADD_SUBDIRECTORY ( PyIex )
