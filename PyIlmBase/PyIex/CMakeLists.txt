
ADD_LIBRARY ( PyIex ${LIB_TYPE}
	PyIex.cpp
)

TARGET_LINK_LIBRARIES ( PyIex
	${PYTHON_LIBRARIES}
)

IF (OPENEXR_INSTALL)
	INSTALL ( TARGETS PyIex
		DESTINATION
		lib
	)
ENDIF(OPENEXR_INSTALL)
ADD_LIBRARY ( iexmodule ${LIB_TYPE}
	iexmodule.cpp
)

SET_TARGET_PROPERTIES ( iexmodule
	PROPERTIES PREFIX "" SUFFIX ".so" BUILD_WITH_INSTALL_RPATH ON
)

TARGET_LINK_LIBRARIES ( iexmodule
	PyIex
	Iex${ILMBASE_LIBSUFFIX}
	${Boost_LIBRARIES}
)

IF(OPENEXR_INSTALL)
	INSTALL ( TARGETS iexmodule
		DESTINATION lib/python${PYTHON_VERSION_MAJOR}.${PYTHON_VERSION_MINOR}/site-packages
	)
ENDIF(OPENEXR_INSTALL)
